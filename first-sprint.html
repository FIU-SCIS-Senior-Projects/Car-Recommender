<template name="main">
	<h1 align="center">Car Recommendation System</h1>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
</head>
<body>
 {{#if loggingIn}}
    <!--<p>Loading...</p>-->
  {{else}}
    {{#if currentUser}}     
       <header> {{> dashboard}} </header>      

    <aside>
        {{> yield "aside"}}
    </aside>
    {{else}}
    {{> yield}}<!--tables and forms including the registration and the log in forms-->
    {{/if}}
  {{/if}}

  </body>
	
</template>


<template name="register">

 	<form>
	<div class="col-xs-4">
		<br>
		<legend>Registration</legend>

    <p>{{RegistrationError}}</P>
		<input type="text" name="registerFirstName" placeholder="Enter first name..." class="form-control" pattern="^[a-zA-Z ]+$"  maxlength="20" required>
		<br>
		<input type="text" name="registerLastName" placeholder="Enter last name..." class="form-control" pattern="^[a-zA-Z ]+$"  maxlength="20" required>
		<br>
		<input type="email" name="registerEmail" placeholder="Enter email..." class="form-control" required>
		<br>
		<input type="password" id="registerPassword" name="registerPassword" placeholder="Enter password..." class="form-control" minlength="6" maxlength="30" required>
		<br>
		<input type="password" id="confirmPassword" name="confirmPassword" placeholder="Confirm password..." onkeyup="checkPass()" class="form-control" minlength="6" maxlength="30" required>
		<script>
		function checkPass() 
		{
			var password = document.getElementById("registerPassword");
			var confirm_password = document.getElementById("confirmPassword");
				function validatePassword()
				{
		  			if(password.value != confirm_password.value) 
					{
						confirm_password.setCustomValidity("Passwords Don't Match");
		  			} 
					else 
					{
						confirm_password.setCustomValidity('');
		  			}
				}
			password.onchange = validatePassword;
			confirm_password.onkeyup = validatePassword;
		}  
		</script>	
		<br>
		<input type="text" name="registerAddress" placeholder="Enter address..." class="form-control" maxlength="300" required>
		<br>
		<input type="text" name="registerState" placeholder="Enter state..." class="form-control" attern="^[a-zA-Z ]+$"  maxlength="20" required>
		<br>
		<input type="text" name="registerZip" placeholder="Enter zip code..." class="form-control" pattern="^[0-9 ]+$" maxlength="35" required>
		<br>
		<input type="tel" name="registerTelephone" placeholder="Enter phone number..." class="form-control" pattern="^[0-9 ]+$" maxlength="35" required >
	    <br>
		<input type="submit" class="btn btn-primary btn-lg active" value="Register" id="registratonsubmit">
    <a href="/" class="btn btn-secondary btn-lg active" role="button">Back</a>        
	</div>
	</form>
</template>

<template name="login">
    <form data-toggle="validator" role="form">
	    <div class="col-xs-4">
		  <br><br><br>
		  <legend>Login</legend>
      <p >{{LogError}}</p>      

          <label class="sr-only" for="form-useremail"> Email </label>	  
          <input type="email" name="loginEmail" placeholder="Email..." class="form-control" id="form-useremail" required>
          <br>
		      <label class="sr-only" for="form-password">Password</label>
          <input type="password" name="loginPassword" placeholder="Password..." class="form-control" id="form-password" required>
		      <br>
          <input type="submit" class="btn btn-primary btn-lg btn-block" value="Login" id="submitlogin"><br>
          <a href="/RecoverPassword">Forgot your password?</a> 
          <br>
		  <a href="/register" >Don't have an account yet? Register for free</a>
		  </div>	
    </form>
</template>

<template name="RecoverPassword">  
  {{#if resetPassword}}
    <form id="set-new-password">
	  <div class="col-xs-4">
	  <br><br><br>	
	  <legend>Reset Password</legend>	  
      <label for="new-password">New Password</label>
      <input type="text" id="new-password" placeholder="Enter new password..." class="form-control">
	  <br>	
      <input type="submit" value="Confirm New Password">
      <p id="form-messages"></p>
	  </div>	  
    </form>
  {{else}}
    <form id="forgot-password">
      <div class="col-xs-4">
	  <br><br><br>	
	  <legend>Recover Password</legend>	  	  
      <input type="text" id="user-email" placeholder="Enter email..." class="form-control">
	  <br>	
      <input type="submit" value="Get Reset Password Instructions">
      <p id="form-messages"></p>
	  </div>	  
    </form>
  {{/if}}
</template>  


<template name="dashboard">
    <div class="container">

      <!-- The justified navigation menu is meant for single line per list item.
           Multiple lines will require custom code not provided by Bootstrap. -->
      <div class="masthead">       
        <nav>
          <ul class="nav nav-tabs nav-justified">
            <li class="{{ activeIfTemplateIs '' }}"><a href="/">Home</a></li>
            <li class="{{ activeIfTemplateIs 'favorites' }}"><a href="/favorites">Favorites</a></li>
            <li class="{{ activeIfTemplateIs 'sell' }}"><a href="/sell">Sell</a></li>            
            <li class="{{ activeIfTemplateIs 'about' }}"><a href="/about">About</a></li>
            <li class="{{ activeIfTemplateIs 'contact' }}"><a href="/contact">Contact</a></li>
            <li><a href="/" class="logout" id= "logoutmenu">Logout</a></li>
          </ul>
        </nav>
      </div>
    </div>

</template>

<template name="home">
  <p class="container">home template</p>
</template>

<template name="favorites">
  <p class="container">favorite template</p>
</template>

<template name="sell">
  	<form>
	<div class="col-xs-4">
		<br>
		<legend>To sell a car, fill the form below:</legend>
		<small>*At least one picture is required</small><br>
		<input type="file" name="filename1" accept="image/gif, image/jpeg, image/png" required><br>
		<input type="file" name="filename2" accept="image/gif, image/jpeg, image/png"><br>
		<input type="file" name="filename3" accept="image/gif, image/jpeg, image/png"><br>
		<input type="file" name="filename4" accept="image/gif, image/jpeg, image/png"><br>
		<input type="file" name="filename5" accept="image/gif, image/jpeg, image/png"><br>
				
		<select>
		  <option value="" disabled selected>Select Year</option>	
		 	{{#each data.year}}  
				<option value="year">{{y}}</option>
			{{/each}}
		</select>
		<br><br>
		<select>
		  <option value="" disabled selected>Select Make</option>	
		 	{{#each data.make}}  
				<option value="make">{{car}}</option>
			{{/each}}
		</select>
		<br><br>
		<select>
		  <option value="" disabled selected>Select Type</option>	
		 	{{#each data.style}}  
				<option value="type">{{s}}</option>
			{{/each}}
		</select>
		<br><br>
		<input type="text" name="model" placeholder="Enter Model..." attern="^[a-zA-Z ]+$" maxlength="50" required>
		<br><br>
		<select>
		  <option value="" disabled selected>Select City MPG</option>	
		 	{{#each data.mileage}}  
				<option value="cmileage">{{m}}</option>
			{{/each}}
		</select>
		<br><br>
		<select>
		  <option value="" disabled selected>Select Highway MPG</option>	
		 	{{#each data.mileage}}  
				<option value="hmileage">{{m}}</option>
			{{/each}}
		</select>
		<br><br>
		<select>
		  <option value="" disabled selected>Select Engine</option>	
		 	{{#each data.transmission}}  
				<option value="transmission">{{t}}</option>
			{{/each}}
		</select>
		<br><br>
		<select>
		  <option value="" disabled selected>Select Exterior Color</option>	
		 	{{#each data.ecolor}}  
				<option value="ecolor">{{c}}</option>
			{{/each}}
		</select>
		<br><br>
		<select>
		  <option value="" disabled selected>Select Interior Color</option>	
		 	{{#each data.icolor}}  
				<option value="icolor">{{c}}</option>
			{{/each}}
		</select>
		<br><br>
		Select Features:<br>
		<input type="checkbox" name="feature1" value="feature1"> Bluetooth<br>
		<input type="checkbox" name="feature2" value="feature2"> DVD Player<br>
	    <input type="checkbox" name="feature3" value="feature3"> Exterior Camera<br> 
		<input type="checkbox" name="feature4" value="feature4"> Keyless Ignition<br> 
		<input type="checkbox" name="feature5" value="feature5"> Navigation System<br>
		<input type="checkbox" name="feature6" value="feature6"> Pre-collision<br> 
		<input type="checkbox" name="feature7" value="feature7"> Safety System<br> 
		<input type="checkbox" name="feature8" value="feature8"> Satellite Radio<br>
	    <input type="checkbox" name="feature9" value="feature9"> Sunroof<br>
		<input type="checkbox" name="feature10" value="feature10"> Third row seat<br><br>
		<small>*Add more information about the car (Optional)</small>
		<textarea name="comments" cols=40 rows=6></textarea><br><br>
		<input type="submit" class="btn btn-primary btn-lg active" value="Register" id="registratonsubmit">
    <a href="/" class="btn btn-secondary btn-lg active" role="button">Back</a>        
	</div>
	</form> 
</template>

<template name="about">
  <p class="container">about template</p>
</template>

<template name="contact">
  <p class="container">contact template</p>
</template>



	